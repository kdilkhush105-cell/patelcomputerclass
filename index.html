<!DOCTYPE html>
<html>
<head>
<title>Patel Computer Class</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial;}

body{background:#f1f5f9;}

header{
background:linear-gradient(to right,#0f2027,#203a43,#2c5364);
color:white;
padding:20px;
text-align:center;
}

nav{
background:#111;
display:flex;
justify-content:center;
}

nav a{
color:white;
padding:15px 25px;
text-decoration:none;
cursor:pointer;
}

nav a:hover{background:#00c6ff;}

section{
display:none;
padding:30px;
text-align:center;
}

.active{display:block;}

.form-box{
background:white;
max-width:400px;
margin:20px auto;
padding:20px;
border-radius:10px;
box-shadow:0 5px 15px rgba(0,0,0,0.2);
}

input,select,textarea{
width:100%;
padding:10px;
margin:8px 0;
border-radius:5px;
border:1px solid #ccc;
}

button{
width:100%;
padding:12px;
background:linear-gradient(to right,#00c6ff,#0072ff);
border:none;
border-radius:25px;
color:white;
font-size:16px;
cursor:pointer;
}

button:hover{opacity:0.9;}

table{
width:95%;
margin:20px auto;
border-collapse:collapse;
background:white;
}

th,td{
padding:10px;
border:1px solid #ddd;
}

th{
background:#0072ff;
color:white;
}

.logout{
background:red;
margin:10px auto;
width:200px;
}
</style>
</head>

<body>

<header>
<h1>Patel Computer Class</h1>
<p>Professional Computer Institute</p>
</header>

<nav>
<a onclick="showSection('home')">Home</a>
<a onclick="showSection('register')">Admission</a>
<a onclick="showSection('admin')">Admin Login</a>
</nav>

<!-- HOME -->
<section id="home" class="active">
<h2>Welcome To Our Institute</h2>
<p>Join Professional Computer Courses Today.</p>
</section>

<!-- STUDENT REGISTRATION -->
<section id="register">
<h2>Student Registration</h2>

<div class="form-box">
<input type="email" id="regEmail" placeholder="Enter Email">
<input type="password" id="regPass" placeholder="Create Password">
<button onclick="registerStudent()">Register</button>
<p id="regMsg"></p>
</div>
</section>

<!-- ADMISSION FORM -->
<section id="admission">
<h2>Online Admission Form</h2>

<div class="form-box">
<input type="text" id="name" placeholder="Student Name">
<input type="text" id="father" placeholder="Father Name">

<select id="course">
<option value="">Select Course</option>
<option>Basic Computer</option>
<option>CCC</option>
<option>Tally</option>
</select>

<input type="text" id="mobile" placeholder="Mobile Number">
<textarea id="address" placeholder="Address"></textarea>

<button onclick="saveStudent()">Submit Admission</button>
</div>
</section>

<!-- ADMIN LOGIN -->
<section id="admin">
<h2>Admin Login</h2>

<div class="form-box">
<input type="text" id="username" placeholder="Username">
<input type="password" id="password" placeholder="Password">
<button onclick="login()">Login</button>
<p id="msg"></p>
</div>
</section>

<!-- DASHBOARD -->
<section id="dashboard">
<h2>Admin Dashboard</h2>

<button onclick="downloadCSV()">Download Student Data</button>
<button class="logout" onclick="logout()">Logout</button>

<table id="studentTable">
<tr>
<th>Email</th>
<th>Name</th>
<th>Father</th>
<th>Course</th>
<th>Mobile</th>
<th>Address</th>
</tr>
</table>
</section>

<script>

let students = JSON.parse(localStorage.getItem("students")) || [];
let currentEmail = "";

/* Navigation */
function showSection(id){
document.querySelectorAll("section").forEach(sec=>sec.classList.remove("active"));
document.getElementById(id).classList.add("active");
}

/* Student Registration */
function registerStudent(){
let email=document.getElementById("regEmail").value;
let pass=document.getElementById("regPass").value;

if(email==="" || pass===""){
document.getElementById("regMsg").innerHTML="Fill all fields";
document.getElementById("regMsg").style.color="red";
return;
}

currentEmail=email;
localStorage.setItem("studentLogin",JSON.stringify({email,pass}));

alert("Registration Successful!");
showSection("admission");
}

/* Save Admission */
function saveStudent(){
let student={
email:currentEmail,
name:document.getElementById("name").value,
father:document.getElementById("father").value,
course:document.getElementById("course").value,
mobile:document.getElementById("mobile").value,
address:document.getElementById("address").value
};

students.push(student);
localStorage.setItem("students",JSON.stringify(students));

alert("Admission Submitted Successfully!");
showSection("home");
}

/* Admin Login */
function login(){
if(document.getElementById("username").value==="admin" &&
document.getElementById("password").value==="1234"){
loadTable();
showSection("dashboard");
}else{
document.getElementById("msg").innerHTML="Invalid Login";
document.getElementById("msg").style.color="red";
}
}

/* Load Table */
function loadTable(){
let table=document.getElementById("studentTable");
table.innerHTML=`<tr>
<th>Email</th>
<th>Name</th>
<th>Father</th>
<th>Course</th>
<th>Mobile</th>
<th>Address</th>
</tr>`;

students.forEach(s=>{
table.innerHTML+=`<tr>
<td>${s.email}</td>
<td>${s.name}</td>
<td>${s.father}</td>
<td>${s.course}</td>
<td>${s.mobile}</td>
<td>${s.address}</td>
</tr>`;
});
}

/* Logout */
function logout(){
showSection("admin");
}

/* Download CSV */
function downloadCSV(){
let csv="Email,Name,Father,Course,Mobile,Address\n";
students.forEach(s=>{
csv+=`${s.email},${s.name},${s.father},${s.course},${s.mobile},${s.address}\n`;
});

let blob=new Blob([csv],{type:"text/csv"});
let link=document.createElement("a");
link.href=URL.createObjectURL(blob);
link.download="students.csv";
link.click();
}

</script>

</body>
</html>
