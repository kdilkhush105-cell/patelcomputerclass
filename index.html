<!DOCTYPE html>
<html>
<head>
<title>Patel Computer Class</title>
<style>

body{
font-family: Arial;
margin:0;
background:#f2f2f2;
}

header{
background:#0a5;
color:white;
padding:15px;
text-align:center;
}

.container{
padding:20px;
}

input,select,textarea{
width:100%;
padding:10px;
margin:8px 0;
border-radius:5px;
border:1px solid #ccc;
}

button{
padding:10px;
background:#007bff;
color:white;
border:none;
border-radius:5px;
cursor:pointer;
margin-top:10px;
}

button:hover{
background:#0056b3;
}

table{
width:100%;
border-collapse:collapse;
margin-top:20px;
}

table,th,td{
border:1px solid #999;
}

th,td{
padding:8px;
text-align:center;
}

.hidden{
display:none;
}

</style>
</head>
<body>

<header>
<h2>Patel Computer Class</h2>
</header>

<div class="container">

<!-- STUDENT SECTION -->

<h3>Online Admission Form</h3>

<input type="text" id="name" placeholder="Student Name">
<input type="text" id="father" placeholder="Father Name">

<select id="course">
<option value="">Select Course</option>
<option>KYP</option>
<option>ADCA</option>
<option>DCA</option>
<option>Tally</option>
</select>

<input type="text" id="mobile" placeholder="Mobile Number">
<textarea id="address" placeholder="Address"></textarea>

<button onclick="saveStudent()">Save Admission</button>

<hr>

<!-- ADMIN LOGIN -->

<h3>Admin Login</h3>

<input type="text" id="adminUser" placeholder="Username">
<input type="password" id="adminPass" placeholder="Password">
<button onclick="adminLogin()">Login</button>

<!-- DASHBOARD -->

<div id="dashboard" class="hidden">
<h3>Admin Dashboard</h3>

<table id="studentTable">
<tr>
<th>ID</th>
<th>Name</th>
<th>Course</th>
<th>Mobile</th>
<th>Action</th>
</tr>
</table>

<button onclick="logout()">Logout</button>
</div>

</div>

<script>

// SAVE STUDENT

function saveStudent(){

let name = document.getElementById("name").value;
let father = document.getElementById("father").value;
let course = document.getElementById("course").value;
let mobile = document.getElementById("mobile").value;
let address = document.getElementById("address").value;

if(name=="" || course==""){
alert("Fill Required Fields");
return;
}

let year = new Date().getFullYear();
let count = localStorage.getItem("count");

if(count==null){
count=1;
}else{
count=parseInt(count)+1;
}

localStorage.setItem("count",count);

let studentID = "PCC"+year+("000"+count).slice(-3);

let student = {
id:studentID,
name:name,
father:father,
course:course,
mobile:mobile,
address:address
};

let students = JSON.parse(localStorage.getItem("students")) || [];
students.push(student);

localStorage.setItem("students",JSON.stringify(students));

alert("Admission Successful\nStudent ID: "+studentID);

document.getElementById("name").value="";
document.getElementById("father").value="";
document.getElementById("course").value="";
document.getElementById("mobile").value="";
document.getElementById("address").value="";

}

// ADMIN LOGIN

function adminLogin(){

let user = document.getElementById("adminUser").value;
let pass = document.getElementById("adminPass").value;

if(user=="admin" && pass=="1234"){
document.getElementById("dashboard").classList.remove("hidden");
loadStudents();
}else{
alert("Wrong Login");
}

}

// LOAD STUDENTS

function loadStudents(){

let students = JSON.parse(localStorage.getItem("students")) || [];
let table = document.getElementById("studentTable");

table.innerHTML = `
<tr>
<th>ID</th>
<th>Name</th>
<th>Course</th>
<th>Mobile</th>
<th>Action</th>
</tr>
`;

students.forEach((s,index)=>{

table.innerHTML += `
<tr>
<td>${s.id}</td>
<td>${s.name}</td>
<td>${s.course}</td>
<td>${s.mobile}</td>
<td>
<button onclick="editStudent(${index})">Edit</button>
<button onclick="deleteStudent(${index})">Delete</button>
</td>
</tr>
`;

});

}

// DELETE

function deleteStudent(index){

let students = JSON.parse(localStorage.getItem("students"));
students.splice(index,1);
localStorage.setItem("students",JSON.stringify(students));
loadStudents();

}

// EDIT

function editStudent(index){

let students = JSON.parse(localStorage.getItem("students"));
let s = students[index];

document.getElementById("name").value = s.name;
document.getElementById("father").value = s.father;
document.getElementById("course").value = s.course;
document.getElementById("mobile").value = s.mobile;
document.getElementById("address").value = s.address;

deleteStudent(index);

}

// LOGOUT

function logout(){
document.getElementById("dashboard").classList.add("hidden");
}

</script>

</body>
</html>
